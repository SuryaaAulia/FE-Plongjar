<div class="page-container">
  <div class="add-matkul-container">
    <div class="header-section">
      <h2>{{ pageTitle }}</h2>
      <p>{{ pageSubtitle }}</p>
    </div>
    <form [formGroup]="addMatkulForm" (ngSubmit)="onSubmit()">
      <div class="form-grid">
        <app-form-input
          label="Nama Mata Kuliah"
          placeholder="Contoh: PEMROGRAMAN WEB"
          formControlName="namaMatkul"
          [control]="getControl('namaMatkul')"
          [required]="true"
        ></app-form-input>

        <app-form-input
          label="Kode Mata Kuliah"
          placeholder="Contoh: CRI313"
          formControlName="kodeMatkul"
          [control]="getControl('kodeMatkul')"
          [required]="true"
        ></app-form-input>

        <div class="full-width-field">
          <app-form-input
            label="SKS / Credit"
            type="select"
            placeholder="Pilih Jumlah SKS"
            formControlName="sks"
            [control]="getControl('sks')"
            [options]="sksOptions"
            [required]="true"
          ></app-form-input>
        </div>

        <div class="full-width-field">
          <app-form-input
            label="PIC"
            type="select"
            placeholder="Pilih PIC"
            formControlName="pic"
            [control]="getControl('pic')"
            [options]="picOptions"
            [required]="true"
          ></app-form-input>
        </div>

        <div class="full-width-field">
          <app-form-input
            label="Status Mata Kuliah"
            type="select"
            placeholder="Pilih Status Mata Kuliah"
            formControlName="statusMatkul"
            [control]="getControl('statusMatkul')"
            [options]="statusMatkulOptions"
            [required]="true"
          ></app-form-input>
        </div>

        <div class="full-width-field">
          <app-form-input
            label="Metode Perkuliahan"
            type="select"
            placeholder="Pilih Metode Perkuliahan"
            formControlName="metodePerkuliahan"
            [control]="getControl('metodePerkuliahan')"
            [options]="metodePerkuliahanOptions"
            [required]="true"
          ></app-form-input>
        </div>

        <div class="form-field full-width-field">
          <label>Praktikum <span class="required">*</span></label>
          <div class="radio-group">
            <label class="radio-label">
              <input type="radio" value="true" formControlName="praktikum" /> Ya
            </label>
            <label class="radio-label">
              <input type="radio" value="false" formControlName="praktikum" />
              Tidak
            </label>
          </div>
          <div
            *ngIf="
              getControl('praktikum')?.invalid &&
              (getControl('praktikum')?.dirty ||
                getControl('praktikum')?.touched)
            "
            class="error-message"
          >
            Pilihan Praktikum wajib diisi.
          </div>
        </div>
      </div>

      <div class="submit-button-container" style="gap: 1rem">
        @if (isEditMode) {
        <app-action-button
          text="Back"
          backgroundColorVar="var(--red)"
          type="button"
          (click)="goBack()"
        ></app-action-button>
        }
        <app-action-button
          [text]="submitButtonText"
          backgroundColorVar="var(--primary-blue)"
          type="submit"
          [disabled]="addMatkulForm.invalid"
        ></app-action-button>
      </div>
    </form>
  </div>
</div>
