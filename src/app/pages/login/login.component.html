<div class="login-card">
  <div class="header">
    <h1>Apps-SoC</h1>
    <h2>Login</h2>
  </div>

  <div *ngIf="errorMessage" class="alert alert-error">
    <i class="fas fa-exclamation-circle"></i>
    <span>{{ errorMessage }}</span>
    <button type="button" class="alert-close" (click)="clearError()">
      <i class="fas fa-times"></i>
    </button>
  </div>

  <form [formGroup]="loginForm" (ngSubmit)="onSubmit()" novalidate>
    <app-form-input
      label="Email"
      type="email"
      placeholder="Email"
      formControlName="email"
      [control]="emailControl"
      [required]="true"
      [showIcon]="true"
      (inputChange)="clearError()"
    ></app-form-input>

    <app-form-input
      label="Password"
      type="password"
      placeholder="Password"
      formControlName="password"
      [control]="passwordControl"
      [required]="true"
      [showIcon]="true"
      (inputChange)="clearError()"
    ></app-form-input>

    <div class="options">
      <label class="checkbox-container">
        <input
          type="checkbox"
          formControlName="rememberMe"
          [disabled]="isLoading"
        />
        <span class="checkmark"></span>
        Remember me
      </label>
    </div>

    <app-action-button
      text="Sign in"
      [loading]="isLoading"
      type="submit"
      [fullWidth]="true"
      [disabled]="loginForm.invalid || isLoading"
      backgroundColorVar="var(--primary-blue)"
      textColorVar="var(--primary-white)"
      [fontSizePx]="14"
      [paddingScaleFactor]="0.75"
      [paddingHorizontalMultiplier]="1.5"
    >
      <i
        *ngIf="isLoading"
        class="fas fa-spinner fa-spin"
        style="margin-right: 8px"
      ></i>
    </app-action-button>
  </form>
</div>
